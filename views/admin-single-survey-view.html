<section id ="single-survey"  ng-if="loggedIn">
  <div class="container" >
    <div class="row">
      <div class="col-lg-12 text-center">
        <div class= "space">
          <h4> {{singleSurvey.singleSurvey.surveyTitle }}</h4>
          <h5> {{singleSurvey.singleSurvey.surveySubtitle}}</h5>
          <p><strong>Instructions : </strong>{{singleSurvey.singleSurvey.instructions}}</p>
          <div>
            <a ng-click="singleSurvey.deleteSurvey(singleSurvey.singleSurvey.surveyId);">
              <button class="btn button btn-primary btn-sm">Delete</button>
            </a>
          </div>
        </div>         
      </div> 
      <div class="col-lg-12">
        <div ng-repeat= "question in singleSurvey.singleSurveyQuestions" ng-init ="id = $index">
          <strong>Q{{id+1}}. {{question.questionText}}</strong>
          <input type="button" name="deleteQuestion" class="btn btn-light html-entity" value="&#10060;" title="Delete Question" ng-click="singleSurvey.deleteQuestion(question.questionId , id)">
          
          <div ng-repeat = "option in question.questionOptions track by $index" ng-init="id = $index">
            <p>{{id+1}}. {{option}}</p>
          </div>
          
          <div class="row">
            <div class="col-lg-12 col-md-12 col-sm-12"> 
              <a ng-click ="singleSurvey.deleteOptions(question.questionId, id);">
                <button class="btn small button btn-primary btn-sm">Delete All Options</button>
              </a>
              <a ng-click ="singleSurvey.deleteAnswers(question.questionId, id);">
                <button class="btn small button btn-primary btn-sm">Delete Answers</button>
              </a>
            </div> 
          </div>
          <br>
          <hr>    
        </div> 
      </div>
    </div>
    <br>
    <a href="#/survey/viewAll" class="btn button btn-primary btn-md"> Back </a>
  </div>   
  
</section>

<!-- if admin is logged out -->
<admin-login-card></admin-login-card>